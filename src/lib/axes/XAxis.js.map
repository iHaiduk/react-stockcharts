{"version":3,"sources":["../../../src/lib/axes/XAxis.js"],"names":["XAxis","props","context","axisZoomCallback","bind","newXDomain","xAxisZoom","showTicks","moreProps","helper","zoomEnabled","defaultProps","showGrid","showDomain","className","ticks","outerTickSize","fill","stroke","strokeWidth","opacity","domainClassName","innerTickSize","tickPadding","tickStroke","tickStrokeOpacity","fontFamily","fontSize","xZoomHeight","getMouseDelta","startXY","mouseXY","contextTypes","chartConfig","object","isRequired","func","axisAt","orient","width","height","axisLocation","x","w","h","y","transform","range","getScale","getXScale","bg","scale","xScale","invert","trueRange","trueDomain","map","copy","domain"],"mappings":"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","file":"XAxis.js","sourcesContent":["\"use strict\";\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Axis from \"./Axis\";\n\nclass XAxis extends Component {\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\t\tthis.axisZoomCallback = this.axisZoomCallback.bind(this);\n\t}\n\taxisZoomCallback(newXDomain) {\n\t\tconst { xAxisZoom } = this.context;\n\t\txAxisZoom(newXDomain);\n\t}\n\trender() {\n\t\tconst { showTicks } = this.props;\n\t\tconst moreProps = helper(this.props, this.context);\n\n\t\treturn <Axis {...this.props} {...moreProps} x\n\t\t\tzoomEnabled={this.props.zoomEnabled && showTicks}\n\t\t\taxisZoomCallback={this.axisZoomCallback}\n\t\t\tzoomCursorClassName=\"react-stockcharts-ew-resize-cursor\" />;\n\t}\n}\n\nXAxis.propTypes = {\n\taxisAt: PropTypes.oneOfType([\n\t\tPropTypes.oneOf([\"top\", \"bottom\", \"middle\"]),\n\t\tPropTypes.number\n\t]).isRequired,\n\torient: PropTypes.oneOf([\"top\", \"bottom\"]).isRequired,\n\tinnerTickSize: PropTypes.number,\n\touterTickSize: PropTypes.number,\n\ttickFormat: PropTypes.func,\n\ttickPadding: PropTypes.number,\n\ttickSize: PropTypes.number,\n\tticks: PropTypes.number,\n\ttickValues: PropTypes.array,\n\tshowTicks: PropTypes.bool,\n\tclassName: PropTypes.string,\n\tzoomEnabled: PropTypes.bool,\n\tonContextMenu: PropTypes.func,\n\tonDoubleClick: PropTypes.func,\n};\n\nXAxis.defaultProps = {\n\tshowGrid: false,\n\tshowTicks: true,\n\tshowDomain: true,\n\tclassName: \"react-stockcharts-x-axis\",\n\tticks: 10,\n\touterTickSize: 0,\n\tfill: \"none\",\n\tstroke: \"#000000\", // x axis stroke coloe\n\tstrokeWidth: 1,\n\topacity: 1, // x axis opacity\n\tdomainClassName: \"react-stockcharts-axis-domain\",\n\tinnerTickSize: 5,\n\ttickPadding: 6,\n\ttickStroke: \"#000000\", // tick/grid stroke\n\ttickStrokeOpacity: 1,\n\tfontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\n\tfontSize: 12,\n\txZoomHeight: 25,\n\tzoomEnabled: true,\n\tgetMouseDelta: (startXY, mouseXY) => startXY[0] - mouseXY[0],\n};\n\nXAxis.contextTypes = {\n\tchartConfig: PropTypes.object.isRequired,\n\txAxisZoom: PropTypes.func.isRequired,\n};\n\nfunction helper(props, context) {\n\tconst { axisAt, xZoomHeight, orient } = props;\n\tconst { chartConfig: { width, height } } = context;\n\n\tlet axisLocation;\n\tconst x = 0, w = width, h = xZoomHeight;\n\n\tif (axisAt === \"top\") axisLocation = 0;\n\telse if (axisAt === \"bottom\") axisLocation = height;\n\telse if (axisAt === \"middle\") axisLocation = (height) / 2;\n\telse axisLocation = axisAt;\n\n\tconst y = (orient === \"top\") ? -xZoomHeight : 0;\n\n\treturn {\n\t\ttransform: [0, axisLocation],\n\t\trange: [0, width],\n\t\tgetScale: getXScale,\n\t\tbg: { x, y, h, w },\n\t};\n}\n\nfunction getXScale(moreProps) {\n\tconst { xScale: scale, width } = moreProps;\n\n\tif (scale.invert) {\n\t\tconst trueRange = [0, width];\n\t\tconst trueDomain = trueRange.map(scale.invert);\n\t\treturn scale.copy()\n\t\t\t.domain(trueDomain)\n\t\t\t.range(trueRange);\n\t}\n\n\treturn scale;\n}\n\n\nexport default XAxis;\n"]}