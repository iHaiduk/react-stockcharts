{"version":3,"sources":["../../../../src/lib/coordinates/MouseCoordinateX.js"],"names":["React","Component","PropTypes","drawOnCanvas","renderSVG","GenericChartComponent","getMouseCanvas","isNotDefined","MouseCoordinateX","props","bind","ctx","moreProps","helper","customX","xScale","xAccessor","currentItem","mouseXY","snapX","x","displayXAccessor","displayFormat","coordinate","invert","defaultProps","yAxisPad","rectWidth","rectHeight","strokeOpacity","strokeWidth","orient","at","fill","opacity","fontFamily","fontSize","textFill","show","height","chartConfig","stroke","rectRadius","edgeAt","type","y1","y2","hideLine","coordinateProps","arrowWidth","x1","x2"],"mappings":"AAAA;;;;;;;;;;;;AAEA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,SAAP,MAAsB,YAAtB;;AAEA,SAASC,6BAAT,EAAuBC,uBAAvB,QAAwC,oBAAxC;AACA,OAAOC,qBAAP,MAAkC,0BAAlC;AACA,SAASC,cAAT,QAA+B,qBAA/B;;AAEA,SAASC,YAAT,QAA6B,UAA7B;;IAEMC,gB;;;AACL,2BAAYC,KAAZ,EAAmB;AAAA;;AAAA,kIACZA,KADY;;AAElB,QAAKL,SAAL,GAAiB,MAAKA,SAAL,CAAeM,IAAf,OAAjB;AACA,QAAKP,YAAL,GAAoB,MAAKA,YAAL,CAAkBO,IAAlB,OAApB;AAHkB;AAIlB;;;;+BACYC,G,EAAKC,S,EAAW;AAC5B,OAAMH,QAAQI,OAAO,KAAKJ,KAAZ,EAAmBG,SAAnB,CAAd;AACA,OAAIL,aAAaE,KAAb,CAAJ,EAAyB,OAAO,IAAP;;AAEzBN,iBAAaQ,GAAb,EAAkBF,KAAlB;AACA;;;4BACSG,S,EAAW;AACpB,OAAMH,QAAQI,OAAO,KAAKJ,KAAZ,EAAmBG,SAAnB,CAAd;AACA,OAAIL,aAAaE,KAAb,CAAJ,EAAyB,OAAO,IAAP;;AAEzB,UAAOL,WAAUK,KAAV,CAAP;AACA;;;2BACQ;AACR,eAAQ,qBAAR;AAAA,aACU,KAAKL,SADf;AAAA,UAEO,KAFP;AAAA,gBAGa,KAAKD,YAHlB;AAAA,kBAIeG,cAJf;AAAA,YAKS,CAAC,WAAD,EAAc,KAAd,EAAqB,MAArB;AALT;AAOA;;;;EA1B6BL,S;;AA4C/B,SAASa,OAAT,CAAiBL,KAAjB,EAAwBG,SAAxB,EAAmC;AAAA,KAC1BG,MAD0B,GACkBH,SADlB,CAC1BG,MAD0B;AAAA,KAClBC,SADkB,GACkBJ,SADlB,CAClBI,SADkB;AAAA,KACPC,WADO,GACkBL,SADlB,CACPK,WADO;AAAA,KACMC,OADN,GACkBN,SADlB,CACMM,OADN;AAAA,KAE1BC,KAF0B,GAEhBV,KAFgB,CAE1BU,KAF0B;;AAGlC,KAAMC,IAAID,QACPJ,OAAOC,UAAUC,WAAV,CAAP,CADO,GAEPC,QAAQ,CAAR,CAFH;;AAHkC,KAO1BG,gBAP0B,GAOLT,SAPK,CAO1BS,gBAP0B;AAAA,KAQ1BC,aAR0B,GAQRb,KARQ,CAQ1Ba,aAR0B;;AASlC,KAAMC,aAAaJ,QAChBG,cAAcD,iBAAiBJ,WAAjB,CAAd,CADgB,GAEhBK,cAAcP,OAAOS,MAAP,CAAcJ,CAAd,CAAd,CAFH;AAGA,QAAO,EAAEA,IAAF,EAAKG,sBAAL,EAAP;AACA;;AAEDf,iBAAiBiB,YAAjB,GAAgC;AAC/BC,WAAU,CADqB;AAE/BC,YAAW,EAFoB;AAG/BC,aAAY,EAHmB;;AAK/B;AACA;AACAC,gBAAe,CAPgB;AAQ/BC,cAAa,CARkB;;AAU/BC,SAAQ,QAVuB;AAW/BC,KAAI,QAX2B;;AAa/BC,OAAM,SAbyB;AAc/BC,UAAS,CAdsB;AAe/BC,aAAY,8CAfmB;AAgB/BC,WAAU,EAhBqB;AAiB/BC,WAAU,SAjBqB;AAkB/BlB,QAAO,IAlBwB;AAmB/BL,UAASA;AAnBsB,CAAhC;;AAsBA,SAASD,MAAT,CAAgBJ,KAAhB,EAAuBG,SAAvB,EAAkC;AAAA,KACzB0B,IADyB,GACH1B,SADG,CACzB0B,IADyB;AAAA,KACnBrB,WADmB,GACHL,SADG,CACnBK,WADmB;AAAA,KAEVsB,MAFU,GAEG3B,SAFH,CAEzB4B,WAFyB,CAEVD,MAFU;;;AAIjC,KAAIhC,aAAaU,WAAb,CAAJ,EAA+B,OAAO,IAAP;;AAJE,KAMzBH,OANyB,GAMbL,KANa,CAMzBK,OANyB;AAAA,KAQzBiB,MARyB,GAQVtB,KARU,CAQzBsB,MARyB;AAAA,KAQjBC,EARiB,GAQVvB,KARU,CAQjBuB,EARiB;AAAA,KASzBS,MATyB,GASchC,KATd,CASzBgC,MATyB;AAAA,KASjBZ,aATiB,GAScpB,KATd,CASjBoB,aATiB;AAAA,KASFC,WATE,GAScrB,KATd,CASFqB,WATE;AAAA,KAUzBY,UAVyB,GAUajC,KAVb,CAUzBiC,UAVyB;AAAA,KAUbf,SAVa,GAUalB,KAVb,CAUbkB,SAVa;AAAA,KAUFC,UAVE,GAUanB,KAVb,CAUFmB,UAVE;AAAA,KAWzBK,IAXyB,GAWyBxB,KAXzB,CAWzBwB,IAXyB;AAAA,KAWnBC,OAXmB,GAWyBzB,KAXzB,CAWnByB,OAXmB;AAAA,KAWVC,UAXU,GAWyB1B,KAXzB,CAWV0B,UAXU;AAAA,KAWEC,QAXF,GAWyB3B,KAXzB,CAWE2B,QAXF;AAAA,KAWYC,QAXZ,GAWyB5B,KAXzB,CAWY4B,QAXZ;;;AAajC,KAAMM,SAAUX,OAAO,QAAR,GACZO,MADY,GAEZ,CAFH;;AAbiC,gBAoB5BzB,QAAQL,KAAR,EAAeG,SAAf,CApB4B;AAAA,KAkBhCQ,CAlBgC,YAkBhCA,CAlBgC;AAAA,KAmBhCG,UAnBgC,YAmBhCA,UAnBgC;;AAsBjC,KAAMqB,OAAO,UAAb;AACA,KAAMC,KAAK,CAAX;AAAA,KAAcC,KAAKP,MAAnB;AACA,KAAMQ,WAAW,IAAjB;;AAEA,KAAMC,kBAAkB;AACvBzB,wBADuB;AAEvBe,YAFuB;AAGvBM,YAHuB;AAIvBb,gBAJuB;AAKvBY,gBALuB;AAMvBI,oBANuB;AAOvBd,YAPuB,EAOjBC,gBAPiB,EAORC,sBAPQ,EAOIC,kBAPJ,EAOcC,kBAPd;AAQvBI,gBARuB,EAQfZ,4BARe,EAQAC,wBARA;AASvBH,sBATuB;AAUvBC,wBAVuB;AAWvBc,wBAXuB;AAYvBO,cAAY,CAZW;AAavBC,MAAI9B,CAbmB;AAcvB+B,MAAI/B,CAdmB;AAevByB,QAfuB;AAgBvBC;AAhBuB,EAAxB;AAkBA,QAAOE,eAAP;AACA;;AAED,eAAexC,gBAAf","file":"MouseCoordinateX.js","sourcesContent":["\"use strict\";\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport { drawOnCanvas, renderSVG } from \"./EdgeCoordinateV3\";\nimport GenericChartComponent from \"../GenericChartComponent\";\nimport { getMouseCanvas } from \"../GenericComponent\";\n\nimport { isNotDefined } from \"../utils\";\n\nclass MouseCoordinateX extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tconst props = helper(this.props, moreProps);\n\t\tif (isNotDefined(props)) return null;\n\n\t\tdrawOnCanvas(ctx, props);\n\t}\n\trenderSVG(moreProps) {\n\t\tconst props = helper(this.props, moreProps);\n\t\tif (isNotDefined(props)) return null;\n\n\t\treturn renderSVG(props);\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tclip={false}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\tcanvasToDraw={getMouseCanvas}\n\t\t\tdrawOn={[\"mousemove\", \"pan\", \"drag\"]}\n\t\t/>;\n\t}\n}\n\nMouseCoordinateX.propTypes = {\n\tdisplayFormat: PropTypes.func.isRequired,\n\tyAxisPad: PropTypes.number,\n\trectWidth: PropTypes.number,\n\trectHeight: PropTypes.number,\n\torient: PropTypes.oneOf([\"bottom\", \"top\", \"left\", \"right\"]),\n\tat: PropTypes.oneOf([\"bottom\", \"top\", \"left\", \"right\"]),\n\tfill: PropTypes.string,\n\topacity: PropTypes.number,\n\tfontFamily: PropTypes.string,\n\tfontSize: PropTypes.number,\n\ttextFill: PropTypes.string,\n\tsnapX: PropTypes.bool\n};\n\nfunction customX(props, moreProps) {\n\tconst { xScale, xAccessor, currentItem, mouseXY } = moreProps;\n\tconst { snapX } = props;\n\tconst x = snapX\n\t\t? xScale(xAccessor(currentItem))\n\t\t: mouseXY[0];\n\n\tconst { displayXAccessor } = moreProps;\n\tconst { displayFormat } = props;\n\tconst coordinate = snapX\n\t\t? displayFormat(displayXAccessor(currentItem))\n\t\t: displayFormat(xScale.invert(x));\n\treturn { x, coordinate };\n}\n\nMouseCoordinateX.defaultProps = {\n\tyAxisPad: 0,\n\trectWidth: 80,\n\trectHeight: 20,\n\n\t// rectRadius: 5,\n\t// stroke: \"#684F1D\",\n\tstrokeOpacity: 1,\n\tstrokeWidth: 1,\n\n\torient: \"bottom\",\n\tat: \"bottom\",\n\n\tfill: \"#525252\",\n\topacity: 1,\n\tfontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\n\tfontSize: 13,\n\ttextFill: \"#FFFFFF\",\n\tsnapX: true,\n\tcustomX: customX,\n};\n\nfunction helper(props, moreProps) {\n\tconst { show, currentItem } = moreProps;\n\tconst { chartConfig: { height } } = moreProps;\n\n\tif (isNotDefined(currentItem)) return null;\n\n\tconst { customX } = props;\n\n\tconst { orient, at } = props;\n\tconst { stroke, strokeOpacity, strokeWidth } = props;\n\tconst { rectRadius, rectWidth, rectHeight } = props;\n\tconst { fill, opacity, fontFamily, fontSize, textFill } = props;\n\n\tconst edgeAt = (at === \"bottom\")\n\t\t? height\n\t\t: 0;\n\n\tconst {\n\t\tx,\n\t\tcoordinate\n\t } = customX(props, moreProps);\n\n\tconst type = \"vertical\";\n\tconst y1 = 0, y2 = height;\n\tconst hideLine = true;\n\n\tconst coordinateProps = {\n\t\tcoordinate,\n\t\tshow,\n\t\ttype,\n\t\torient,\n\t\tedgeAt,\n\t\thideLine,\n\t\tfill, opacity, fontFamily, fontSize, textFill,\n\t\tstroke, strokeOpacity, strokeWidth,\n\t\trectWidth,\n\t\trectHeight,\n\t\trectRadius,\n\t\tarrowWidth: 0,\n\t\tx1: x,\n\t\tx2: x,\n\t\ty1,\n\t\ty2\n\t};\n\treturn coordinateProps;\n}\n\nexport default MouseCoordinateX;\n"]}